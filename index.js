"use strict";(()=>{var K=Object.defineProperty;var D=(o,e)=>{for(var t in e)K(o,t,{get:e[t],enumerable:!0})};var F=(o,e,t)=>{console[t]("%cCordwood%c",`background-color: ${e}; color: black; font-weight: 600; border-radius: 16px; padding: 0px 5px 0px 5px;`,"",o)},C={log:o=>F(o,"#b6c76c","log"),warn:o=>F(o,"#e19c3d","warn"),error:o=>F(o,"#a63d40","error")};var E={};D(E,{Flux:()=>oo,FluxDispatcher:()=>x,React:()=>l,ReactDOM:()=>Z});var I={};D(I,{find:()=>M,findAll:()=>B,findByDisplayName:()=>O,findByDisplayNameAll:()=>X,findByProps:()=>d,findByPropsAll:()=>Q,modules:()=>j});var G=window.webpackJsonp([],[(o,e,t)=>{o.exports=t}]);var P=(o,e=!1)=>t=>{let i=[];for(let a in o)if(o.hasOwnProperty(a)){let r=o[a].exports;if(!r)continue;if(r.default&&r.__esModule&&t(r.default)){if(e)return r.default;i.push(r.default)}if(t(r)){if(e)return r;i.push(r)}}if(!e)return i},j=G.c,M=P(j,!0),B=P(j),N=o=>e=>o.every(t=>e[t]!==void 0),W=(o,e)=>e?t=>t.displayName===o:t=>t?.default?.displayName===o,d=(...o)=>M(N(o)),Q=(...o)=>B(N(o)),O=(o,e=!0)=>M(W(o,e)),X=(o,e=!0)=>B(W(o,e));var l=d("createElement"),Z=d("render","findDOMNode"),oo=d("Store","initialize"),x=d("_isDispatching","dispatch");var L={};D(L,{after:()=>g,before:()=>eo,instead:()=>to,unpatchAll:()=>k});var _=["a","b","i"],h=new Map;function U(o,e,t,i,a){let r=h.get(e)?.[o];if(!r)return a?Reflect.construct(e[o],t,i):e[o].apply(i,t);for(let s of r.b.values()){let c=s.call(i,t);Array.isArray(c)&&(t=c)}let p=(...s)=>a?Reflect.construct(r.o,s,i):r.o.apply(i,s);for(let s of r.i.values()){let c=p;p=(...u)=>s.call(i,u,c)}let n=p(...t);for(let s of r.a.values())n=s.call(i,t,n)??n;return n}function v(o,e,t,i){let a=h.get(o),r=a?.[e];return r?.[i].has(t)?(r[i].delete(t),_.every(p=>r[p].size===0)&&(Reflect.defineProperty(o,e,{value:r.o,writable:!0,configurable:!0})||(o[e]=r.o),delete a[e]),Object.keys(a).length==0&&h.delete(o),!0):!1}function k(){for(let[o,e]of h.entries())for(let t in e)for(let i of _)for(let a of e[t]?.[i].keys()??[])v(o,t,a,i)}var S=o=>(e,t,i,a=!1)=>{if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);h.has(t)||h.set(t,{});let r=h.get(t);if(!r[e]){let s=t[e];r[e]={o:s,b:new Map,i:new Map,a:new Map};let c=(f,m,w)=>{let Y=U(e,t,m,f,w);return a&&n(),Y},u=new Proxy(s,{apply:(f,m,w)=>c(m,w,!1),construct:(f,m)=>c(s,m,!0),get:(f,m,w)=>m=="toString"?s.toString.bind(s):Reflect.get(f,m,w)});Reflect.defineProperty(t,e,{value:u,configurable:!0,writable:!0})||(t[e]=u)}let p=Symbol(),n=()=>v(t,e,p,o);return r[e][o].set(p,i),n};var eo=S("b"),to=S("i"),g=S("a");function R(o){let e=document.createElement("style");return e.id="CORDWOOD_INJECTED_STYLE",e.innerHTML=o,document.head.appendChild(e),()=>{e.remove()}}var z={...L,injectCSS:R};var ro=d("showChangeLog");function A(){g("showChangeLog",ro,()=>{x.dispatch({type:"CHANGE_LOG_OPEN"})})}var no=O("Checkbox"),b=class extends l.Component{constructor(e={}){super(e),this.state={toggled:0}}render(){return l.createElement("div",{className:"margin-top-20"},l.createElement(no,{onChange:e=>console.log(e),value:!1}))}};var J=({changelog:o})=>{let e=o.split(`---changelog---
`).slice(1).map(t=>io(t));return console.log(e),l.createElement("p",null,o)};function io(o){let e=!1,t={},i=o.split(`
`).filter(a=>{if(a==="---")return e=!0,!1;if(!e){let r=a.split(": "),p=r.shift(),n=r.join(": ");t[p]=JSON.parse(n)}return e}).join(`
`);return{...t,body:i}}var $=`---changelog---
key1: "test"
key2: 2
---
Haaaaa
`;function H(){A();let o=d("UserSettingsModalSections");Object.assign(o.UserSettingsModalSections,{CORDWOOD:"CORDWOOD",CORDWOOD_CHANGELOG:"CORDWOOD_CHANGELOG"});let e=d("getUserSettingsModalSections");g("getUserSettingsModalSections",e,(a,r)=>{r.push({section:o.UserSettingsModalSections.CORDWOOD,label:"Cordwood",element:b})});let t=d("TabBarItem","TabBarHeader","TabBarSeparator"),i=O("MarkdownModal");g("render",e.default.prototype,(a,r)=>{r.props.children[0].props.children.props.children[1].push(l.createElement(t.TabBarHeader,{className:"cordwood-settings-header"},"Cordwood"),l.createElement(t.TabBarItem,{key:"CORDWOOD"},"Plugins"),l.createElement("div",{className:"cordwood-changelog-button",onClick:()=>{g("render",i.prototype,(p,n)=>{if(!n.props.className.includes("change-log"))return n;let s=n.props.children[0].props.children[0];s[0].props.children="Cordwood Changelog",s[1]=" (Jul 13, 2022)";let c=n.props.children[1];return c.props.children[0]=null,c.props.children[1]=[l.createElement(J,{changelog:$})],n},!0),x.dispatch({type:"CHANGE_LOG_OPEN"})}},"Cordwood Change Log")),r.props.children[0].props.children.props.selectedItem==="CORDWOOD"&&(r.props.children[1].props.children[0].props.children=l.createElement(b,null))})}function T(o,e,{walkable:t=[],ignore:i=[],maxDepth:a=100}={}){let r=0;function p(n,s,{walkable:c=[],ignore:u=[]}={}){if(r+=1,!(r>a)){if(typeof s=="string"){if(n.hasOwnProperty(s))return n[s]}else if(s(n))return n;if(!!n){if(Array.isArray(n))for(let y of n){let f=p(y,s,{walkable:c,ignore:u});if(f)return f}else if(typeof n=="object"){for(let y of Object.keys(n))if(!(c!=null&&c.includes(y))&&!u.includes(y))try{let f=p(n[y],s,{walkable:c,ignore:u});if(f)return f}catch{}}}}}return p(o,e,{walkable:t,ignore:i})}function q(o,e){T(o,e,{walkable:["props","children","child","sibling"]})}if(window.cordwood)throw new Error("Cordwood is already injected...");var V=!1;try{H();let o=R(".cordwood-settings-header{padding-bottom:1rem}.cordwood-changelog-button{cursor:pointer;display:block!important;color:#faa61a!important;font-size:12px!important;padding:8px 6px 10px 20px!important;opacity:.7;-webkit-transition:opacity .2s!important;transition:opacity .2s}.cordwood-changelog-button:hover{opacity:1;color:#faa61a}");window.cordwood={util:{logger:C,findInTree:T,findInReactTree:q},patcher:{...z},webpack:{...I,common:{...E}},uninject:()=>{k(),o(),delete window.cordwood}}}catch(o){V=!0,C.error(`Cordwood failed to initialize... ${o.stack?o.stack:o.toString()}`)}V||C.log("Loaded successfully!");})();
//# sourceURL=Cordwood