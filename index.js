"use strict";(()=>{var F=Object.defineProperty;var M=(e,t)=>{for(var o in t)F(e,o,{get:t[o],enumerable:!0})};var w=(e,t,o)=>{console[o]("%cCordwood%c",`background-color: ${t}; color: black; font-weight: 600; border-radius: 16px; padding: 0px 5px 0px 5px;`,"",e)},x={log:e=>w(e,"#b6c76c","log"),warn:e=>w(e,"#e19c3d","warn"),error:e=>w(e,"#a63d40","error")};function u(){}var k={};M(k,{after:()=>T,before:()=>I,instead:()=>S,unpatchAll:()=>O});var y=["a","b","i"],l=new Map;function j(e,t,o,s,c){let r=l.get(t)?.[e];if(!r)return c?Reflect.construct(t[e],o,s):t[e].apply(s,o);for(let i of r.b.values()){let d=i.call(s,o);Array.isArray(d)&&(o=d)}let p=(...i)=>c?Reflect.construct(r.o,i,s):r.o.apply(s,i);for(let i of r.i.values()){let d=p;p=(...b)=>i.call(s,b,d)}let a=p(...o);for(let i of r.a.values())a=i.call(s,o,a)??a;return a}function m(e,t,o,s){let c=l.get(e),r=c?.[t];return r?.[s].has(o)?(r[s].delete(o),y.every(p=>r[p].size===0)&&(Reflect.defineProperty(e,t,{value:r.o,writable:!0,configurable:!0})||(e[t]=r.o),delete c[t]),Object.keys(c).length==0&&l.delete(e),!0):!1}function O(){for(let[e,t]of l.entries())for(let o in t)for(let s of y)for(let c of t[o]?.[s].keys()??[])m(e,o,c,s)}var g=e=>(t,o,s,c=!1)=>{if(typeof o[t]!="function")throw new Error(`${t} is not a function in ${o.constructor.name}`);l.has(o)||l.set(o,{});let r=l.get(o);if(!r[t]){let i=o[t];r[t]={o:i,b:new Map,i:new Map,a:new Map};let d=(f,n,h)=>{let R=j(t,o,n,f,h);return c&&a(),R},b=new Proxy(i,{apply:(f,n,h)=>d(n,h,!1),construct:(f,n)=>d(i,n,!0),get:(f,n,h)=>n=="toString"?i.toString.bind(i):Reflect.get(f,n,h)});Reflect.defineProperty(o,t,{value:b,configurable:!0,writable:!0})||(o[t]=b)}let p=Symbol(),a=()=>m(o,t,p,e);return r[t][e].set(p,s),a};var I=g("b"),S=g("i"),T=g("a");var v=k;if(window.cordwood)throw new Error("Cordwood is already injected...");window.cordwood={util:{logger:x},patcher:v};u();})();
