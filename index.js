"use strict";(()=>{var Y=Object.defineProperty;var D=(o,e)=>{for(var t in e)Y(o,t,{get:e[t],enumerable:!0})};var j=(o,e,t)=>{console[t]("%cCordwood%c",`background-color: ${e}; color: black; font-weight: 600; border-radius: 16px; padding: 0px 5px 0px 5px;`,"",o)},C={log:o=>j(o,"#b6c76c","log"),warn:o=>j(o,"#e19c3d","warn"),error:o=>j(o,"#a63d40","error")};var E={};D(E,{Flux:()=>Z,FluxDispatcher:()=>x,React:()=>d,ReactDOM:()=>X});var I={};D(I,{find:()=>M,findAll:()=>B,findByDisplayName:()=>O,findByDisplayNameAll:()=>Q,findByProps:()=>l,findByPropsAll:()=>K,modules:()=>F});var H=window.webpackJsonp([],[(o,e,t)=>{o.exports=t}]);var P=(o,e=!1)=>t=>{let s=[];for(let a in o)if(o.hasOwnProperty(a)){let r=o[a].exports;if(!r)continue;if(r.default&&r.__esModule&&t(r.default)){if(e)return r.default;s.push(r.default)}if(t(r)){if(e)return r;s.push(r)}}if(!e)return s},F=H.c,M=P(F,!0),B=P(F),N=o=>e=>o.every(t=>e[t]!==void 0),W=(o,e)=>e?t=>t.displayName===o:t=>t?.default?.displayName===o,l=(...o)=>M(N(o)),K=(...o)=>B(N(o)),O=(o,e=!0)=>M(W(o,e)),Q=(o,e=!0)=>B(W(o,e));var d=l("createElement"),X=l("render","findDOMNode"),Z=l("Store","initialize"),x=l("_isDispatching","dispatch");var L={};D(L,{after:()=>g,before:()=>oo,instead:()=>eo,unpatchAll:()=>S});var _=["a","b","i"],h=new Map;function U(o,e,t,s,a){let r=h.get(e)?.[o];if(!r)return a?Reflect.construct(e[o],t,s):e[o].apply(s,t);for(let i of r.b.values()){let p=i.call(s,t);Array.isArray(p)&&(t=p)}let c=(...i)=>a?Reflect.construct(r.o,i,s):r.o.apply(s,i);for(let i of r.i.values()){let p=c;c=(...u)=>i.call(s,u,p)}let n=c(...t);for(let i of r.a.values())n=i.call(s,t,n)??n;return n}function v(o,e,t,s){let a=h.get(o),r=a?.[e];return r?.[s].has(t)?(r[s].delete(t),_.every(c=>r[c].size===0)&&(Reflect.defineProperty(o,e,{value:r.o,writable:!0,configurable:!0})||(o[e]=r.o),delete a[e]),Object.keys(a).length==0&&h.delete(o),!0):!1}function S(){for(let[o,e]of h.entries())for(let t in e)for(let s of _)for(let a of e[t]?.[s].keys()??[])v(o,t,a,s)}var k=o=>(e,t,s,a=!1)=>{if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);h.has(t)||h.set(t,{});let r=h.get(t);if(!r[e]){let i=t[e];r[e]={o:i,b:new Map,i:new Map,a:new Map};let p=(f,m,w)=>{let V=U(e,t,m,f,w);return a&&n(),V},u=new Proxy(i,{apply:(f,m,w)=>p(m,w,!1),construct:(f,m)=>p(i,m,!0),get:(f,m,w)=>m=="toString"?i.toString.bind(i):Reflect.get(f,m,w)});Reflect.defineProperty(t,e,{value:u,configurable:!0,writable:!0})||(t[e]=u)}let c=Symbol(),n=()=>v(t,e,c,o);return r[e][o].set(c,s),n};var oo=k("b"),eo=k("i"),g=k("a");function R(o){let e=document.createElement("style");return e.id="CORDWOOD_INJECTED_STYLE",e.innerHTML=o,document.head.appendChild(e),()=>{e.remove()}}var z={...L,injectCSS:R};var to=l("showChangeLog");function A(){g("showChangeLog",to,()=>{x.dispatch({type:"CHANGE_LOG_OPEN"})})}var ro=O("Checkbox"),b=class extends d.Component{constructor(e={}){super(e),this.state={toggled:0}}render(){return d.createElement("div",{className:"margin-top-20"},d.createElement(ro,{onChange:e=>console.log(e),value:!1}))}};var J=({changelog:o})=>d.createElement("p",null,o);function G(){A();let o=l("UserSettingsModalSections");Object.assign(o.UserSettingsModalSections,{CORDWOOD:"CORDWOOD",CORDWOOD_CHANGELOG:"CORDWOOD_CHANGELOG"});let e=l("getUserSettingsModalSections");g("getUserSettingsModalSections",e,(a,r)=>{r.push({section:o.UserSettingsModalSections.CORDWOOD,label:"Cordwood",element:b})});let t=l("TabBarItem","TabBarHeader","TabBarSeparator"),s=O("MarkdownModal");g("render",e.default.prototype,(a,r)=>{r.props.children[0].props.children.props.children[1].push(d.createElement(t.TabBarHeader,{className:"cordwood-settings-header"},"Cordwood"),d.createElement(t.TabBarItem,{key:"CORDWOOD"},"Plugins"),d.createElement("div",{className:"cordwood-changelog-button",onClick:()=>{g("render",s.prototype,(c,n)=>{if(!n.props.className.includes("change-log"))return n;let i=n.props.children[0].props.children[0];i[0].props.children="Cordwood Changelog",i[1]=" (Jul 13, 2022)";let p=n.props.children[1];return p.props.children[0]=null,p.props.children[1]=[d.createElement(J,{changelog:window.cordwood.changelog})],n},!0),x.dispatch({type:"CHANGE_LOG_OPEN"})}},"Cordwood Change Log")),r.props.children[0].props.children.props.selectedItem==="CORDWOOD"&&(r.props.children[1].props.children[0].props.children=d.createElement(b,null))})}function T(o,e,{walkable:t=[],ignore:s=[],maxDepth:a=100}={}){let r=0;function c(n,i,{walkable:p=[],ignore:u=[]}={}){if(r+=1,!(r>a)){if(typeof i=="string"){if(n.hasOwnProperty(i))return n[i]}else if(i(n))return n;if(!!n){if(Array.isArray(n))for(let y of n){let f=c(y,i,{walkable:p,ignore:u});if(f)return f}else if(typeof n=="object"){for(let y of Object.keys(n))if(!(p!=null&&p.includes(y))&&!u.includes(y))try{let f=c(n[y],i,{walkable:p,ignore:u});if(f)return f}catch{}}}}}return c(o,e,{walkable:t,ignore:s})}function $(o,e){T(o,e,{walkable:["props","children","child","sibling"]})}if(window.cordwood)throw new Error("Cordwood is already injected...");var q=!1;try{G();let o=R(".cordwood-settings-header{padding-bottom:1rem}.cordwood-changelog-button{cursor:pointer;display:block!important;color:#faa61a!important;font-size:12px!important;padding:8px 6px 10px 20px!important;opacity:.7;-webkit-transition:opacity .2s!important;transition:opacity .2s}.cordwood-changelog-button:hover{opacity:1;color:#faa61a}");window.cordwood={util:{logger:C,findInTree:T,findInReactTree:$},patcher:{...z},webpack:{...I,common:{...E}},uninject:()=>{S(),o(),delete window.cordwood}},fetch("https://raw.githubusercontent.com/Cordwood/Cordwood/master/CHANGELOG.md",{cache:"no-store"}).then(e=>e.text().then(t=>Object.assign(window.cordwood,{changelog:t})))}catch(o){q=!0,C.error(`Cordwood failed to initialize... ${o.stack?o.stack:o.toString()}`)}q||C.log("Loaded successfully!");})();
//# sourceURL=Cordwood